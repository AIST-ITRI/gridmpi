
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="Computer">
<meta name="keywords" content="Parallel Processing">
<meta name="keywords" content="High Performance Computing">
<meta name="keywords" content="Networking">
<meta name="keywords" content="Grid">
<meta name="keywords" content="MPI">
<meta name="keywords" content="Message Passing Interface">
<meta name="keywords" content="GridMPI">

<link rel="stylesheet" type="text/css" href="./psyche.css">
<title>GridMPI</title>
</head>

<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody>
<tr align="left" valign="top">
<td class="topmenu">
   <a href="./index.html">Home</a>
 | <a href="./gridmpi.html">GridMPI</a>
 | <a href="./gridtcp.html">GridTCP</a>
 | <a href="./publications/">Publications</a>
 | Download
<tr><td class="topmenu2">
<tr><td height="4pt">
</tbody></table>

<table class="wholepage">
<tr align="left" valign="top">
<td class="leftcolumn">
<td class="maincolumn">
<table class=banner><tbody>
<tr><td class=banner11><td class=banner12>&nbsp;GridMPI&trade;
<td class=banner13>&nbsp;</tr>
<tr><td class=banner21 colspan=2><td class=banner22></tr>
<tr><td class=banner31><td class=banner32 colspan=2><i>A Project of the
<a href="http://projects.gtrc.aist.go.jp/en/index.html">Grid Technology
Research Center, AIST</a>&nbsp;</i></tr>
</tbody></table>
<br>

</tr>
<tr align="left" valign="top">
<td class="leftcolumn">
<p align=center><font color=red>Curret Release: GridMPI-2.1.3</font></p>
<ul class="sidebar">
<li class="sidebartitle">Contents
<li class="section"><a href="./index.html">Home</a>
<li class="section"><a href="./gridmpi.html">Project GridMPI</a>
<li class="subsection"><a href="./gridmpi-2-x/index.html">GridMPI 2.1</a><br>
<li class="subsection"><a href="./gridmpi-2-x/faq.html">GridMPI 2.1 FAQ</a><br>
<li class="subsection"><a href="./gridmpi-1-1/index.html">GridMPI 1.1</a>
<li class="subsection"><a href="./gridmpi-1-1/faq.html">GridMPI FAQ</a>
<li class="section"><a href="./gridtcp.en.html">Project GridTCP</a>
<li class="subsection"><a href="./pspacer/index.en.html">PSPacer 3.0</a>
<li class="subsection"><a href="./pspacer-ht/index.html">PSPacer/HT 1.0</a>
<!--<li class="subsection"><a href="./pspacer-2.1/index.en.html">PSPacer 2.1.2</a>-->
<!--<li class="subsection"><a href="./pspacer-1.0/index.en.html">PSPacer 1.2</a>-->
<li class="subsection"><a href="./pspacer/faq.en.html">PSPacer FAQ</a>
<li class="section"><a href="./publications/index.html">Publications</a>
<li class="section">Download
<!--<li class="section"><a href="/related.html">Related Links</a>-->
<li class="section"><a href="./contact.html">Contact</a>
</ul>

<td class="maincolumn">


<!-- **** BODY PART **** -->
<div align="right">
English | <a href="gridtcp.ja.html">Japanese</a>
</div>

<!--
<h2>GridTCP</h2>

<p>
The GridTCP project is working on development and evaluation of
a high performance TCP/IP implementation in the Grid environment.
</p>
-->

<h2>Overview of PSPacer</h2>

<p>
Precise Software Pacer (PSPacer) achieves precise network bandwidth
control and smoothing of bursty traffic without any special hardware.
Bursty traffic can degrade the communication performance, because it
causes buffer overflow and packet losses in the intermediate switches
or routers.
PSPacer adjusts precisely the interval between outgoing packets,
and it produces smoothed and stable traffic (see Fig.1).
</p>

<table width="100%">
<caption><b>Fig.1. Overview of PSPacer</b></caption>
<tr><td align="center">
<a href="pspacer/pspacer1.png"><img src="pspacer/pspacer2.png" alt="PSPacer"></a>
</table>

<p>
In the past, some software-based pacing schemes have been proposed.
However, they have been hard to implement, because they require that
the operating system maintains a high resolution timer, which could
incur lots of overhead.  In contrast, PSPacer employs an alternative
scheme which adjusts the interval to insert <i>gap packets</i> between
outgoing packets.
The form of gap packet is the IEEE 802.3x PAUSE packet, therefore
gap packets are discarded at a switch input port and real packets
go through on keeping uniform intervals.
</p>

<p>
PSPacer is implemented as a Linux loadable kernel module.
It is independent of the device driver, and kernel re-compilation
is not required for the installation.
</p>

<p>
For more information, you can see <a href="./publications/">our publications
</a>.
</p>

<h2>Effects of PSPacer</h2>

<p>
To validate the effects of PSPacer on long fat pipe communication,
we monitor TCP bulk traffic produced by
<a href="http://dast.nlanr.net/Projects/Iperf/">iperf</a> between two PCs
which are connected via <a href="http://projects.gtrc.aist.go.jp/gnet/">
GtrcNET-1</a>: programmable gigabit network testbed.
In this experiment, the bottleneck link bandwidth is 500Mbps (62.5MB/s),
the RTT is 200ms, and GtrcNET-1 emulates one TailDrop router whose buffer
size is set to 4MB.
In addition, FedoraCore 3 and the Linux kernel 2.6.11-1.14_FC3 (BIC TCP)
are running
on each PC which is comprised of two Intel Pentium 4 2.4GHz processors,
2GB of memory (DDR400), and an on-board Intel PRO/1000 GbE NIC (82545EM).
</p>

<p>
The following two figures show a bandwidth comparison with and without PSPacer.
Here, the target rate of PSPacer is set to 500Mbps, i.e. the bottleneck link
bandwidth.
The blue line chart shows the average bandwidth with 200ms-resolution,
and the red bar chart shows the finer-resolution (500us) bandwidth.
</p>

<table width="100%">
<caption><b>Fig.2.1. w/o PSPacer</b></caption>
<tr><td align="center">
<img src="pspacer/nopacing.png" alt="w/o PSPacer">
</td></tr>
</table>

<table width="100%">
<caption><b>Fig.2.2. w/ PSPacer</b></caption>
<tr><td align="center">
<img src="pspacer/pacing.png" alt="w/ PSPacer">
</td></tr>
</table>

<p>
Without PSPacer, bursty traffic occurs over the bottleneck link bandwidth.
Packet losses occur at about three seconds after the start, and then the
sender shrinks the congestion window.  The inefficient bandwidth
utilization result in the poor performance.
</p>

<p>
With PSPacer, on the other hand, no packets are lost.  And thus,
the physical bandwidth of the bottleneck link is fully utilized,
and then the communication achieves high and stable performance.
</p>

<p>
<b>[Further Note]</b> As shown in Fig.2.1, many SACK packets hang up
the transmission for long period,
because the stock kernel has a problem of the retransmission processing
(see <a href="http://linux-net.osdl.org/index.php/TODO#SACK_performance">
Here</a>).
So we applies a retrans hints patch which is based on the stuff included
in Tom Kelly's <a href="http://www-lce.eng.cam.ac.uk/~ctk21/code/">
Scalable TCP implementation</a>.
Fig.2.3 shows the improvement of the bandwidth restarting after many SACK
packets.
You can get the patch for linux 2.6.11.10 from
<a href="./pspacer/linux-2.6.11.10-retrans_hints.patch">here</a>.
</p>

<table width="100%">
<caption><b>Fig.2.3. w/o PSPacer (apply retrans hints patch)</b></caption>
<tr><td align="center">
<img src="pspacer/nopacing2.png" alt="w/ PSPacer (apply retrans hints patch)">
</td></tr>
</table>

<h2>Software Distribution</h2>

<p>
PSPacer is released under the GNU GPL license, and you can get it
from the <a href="/software/downloads.jsp">download</a> page.
For more information, you can see the <a href="./pspacer/index.en.html">release
information page</a>.
</p>

<p>
Please report problems to pspacer-users at m.aist.go.jp.
</p>

<hr>
<font size=-2><i>($Date: 2008-10-17 02:17:27 $)</i></font>
<!-- $Id: gridtcp.en.jsp,v 1.6 2008-10-17 02:17:27 takano Exp $ -->

<!-- **** BODY PART **** -->

<td width="20%">

</td>
</table>
</body>

